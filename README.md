# Conquest of Dominions

Веб-игра в жанре пошаговой стратегии, где две армии сражаются друг с другом в эпических битвах.

## 🏗️ Структура проекта

```
conquest-of-dominions-alpr/
├── index.html                 # Главная HTML страница
├── assets/                    # Ресурсы
│   ├── images/               # Изображения (для будущего использования)
│   ├── configs/              # Конфигурационные файлы
│   │   ├── units/
│   │   │   ├── monsters_config.json
│   │   │   └── mercenaries_config.json
│   │   ├── hero/
│   │   │   ├── hero_classes.json
│   │   │   ├── hero_upgrades.json
│   │   │   └── perks_config.json
│   │   ├── adventure/
│   │   │   ├── adventure_config.json
│   │   │   ├── encounters_config.json
│   │   │   └── events_config.json
│   │   └── game/
│   │       ├── battle_setup.json
│   │       ├── currencies_config.json
│   │       ├── development_tracks.json
│   │       ├── achievements_config.json
│   │       └── game_settings.json
│   └── data/                 # Игровые данные (для будущего использования)
├── game_rules.md             # Игровые правила (экран «Правила»)
├── css/                      # Стили
│   ├── base.css
│   ├── ui.css
│   ├── game.css
│   └── screens.css
├── fragments/                # HTML-фрагменты экранов
├── js/                       # JavaScript код
│   ├── core/                # Базовые механики (боёвка, таргетинг, события)
│   ├── state/               # Состояние, настройки, статика, достижения
│   ├── io/                  # Загрузка и валидация данных
│   ├── screens/             # Сценарии экранов (adventure, settings, bestiary)
│   ├── ui/                  # UI-утилиты и анимации
│   ├── app.js               # Инициализация приложения
│   ├── game.js              # Игровая логика боя
│   ├── config.js            # Работа с конфигурацией боя (экран «Схватка»)
│   └── monsters.js          # Доступ к бестиарию
├── run_webgl_server.bat     # Скрипт для запуска локального сервера
└── README.md
```

## 🚀 Запуск

1. **Локальный сервер (рекомендуется):**
   - Запустите `run_webgl_server.bat`
   - Откройте браузер и перейдите по адресу `http://localhost:9000`

2. **Прямое открытие файла:**
   - Откройте `index.html` в браузере
   - ⚠️ Некоторые функции могут не работать из-за политики безопасности браузера

## 🎮 Как играть

1. **Загрузка конфигурации:**
   - При запуске автоматически загружается стандартная конфигурация
   - Можно загрузить свою конфигурацию через кнопку "ВЫБРАТЬ ФАЙЛ"

2. **Начало боя:**
   - Нажмите "🚩 Начать бой! 🚩"
   - Армии автоматически размещаются на поле боя

3. **Игровой процесс:**
   - Поочередно выполняйте ходы атакующих и защитников
   - Каждый юнит может атаковать один раз за ход
   - Используйте "Следующий ход" для перехода к новому раунду
   - Наводите курсор на юнитов для просмотра информации

## 📁 Описание файлов

### HTML
- `index.html` - Главная страница с интерфейсом игры

### CSS
- `css/base.css`, `css/ui.css`, `css/game.css`, `css/screens.css`

### JavaScript
- `js/app.js` — инициализация приложения, загрузка шаблонов, стартовый экран
- `js/game.js` — логика боя и ходов
- `js/config.js` — управление конфигурацией боя на экране «Схватка»
- `js/core/*`, `js/state/*`, `js/io/*`, `js/screens/*`, `js/ui/*` — см. краткое описание в разделе структуры

### Конфигурации (основные)
- `assets/configs/game/battle_setup.json` — сетап боя (армии, параметры)
- `assets/configs/units/monsters_config.json` — типы юнитов/монстров
Полный список и описания — в `docs/configs.md`.

## ⚙️ Пример конфигураций

#### monsters_config.json
```json
{
  "warrior": {
    "id": "warrior",
    "name": "Воин",
    "hp": 12,
    "damage": "1d6",
    "view": "⚔️"
  },
  "archer": {
    "id": "archer",
    "name": "Лучник",
    "hp": 8,
    "damage": "1d6",
    "view": "🏹"
  }
}
```

#### battle_setup.json
```json
{
  "battleConfig": {
    "name": "Название битвы",
    "description": "Описание"
  },
  "armies": {
    "attackers": {
      "name": "Армия Света",
      "description": "Благородные воины",
      "units": [{"id": "warrior", "count": 3}]
    },
    "defenders": {
      "name": "Армия Тьмы",
      "description": "Жестокие монстры",
      "units": [{"id": "archer", "count": 2}]
    }
  }
}
```

## 🎯 Особенности

- **Пошаговая боевая система** с кубиками D&D
- **Автоматическая загрузка** стандартной конфигурации
- **Гибкая система конфигураций** через JSON файлы
- **Красивый интерфейс** в стиле фэнтези
- **Детальный лог боя** с эмодзи
- **Информационные панели** для юнитов
- **Адаптивный дизайн** для разных экранов

## 🔧 Технологии

- **HTML5** - структура страницы
- **CSS3** - стили и анимации
- **Vanilla JavaScript** - игровая логика
- **JSON** - конфигурации
- **Google Fonts** - шрифты

## 📝 Лицензия

Проект создан для образовательных целей.
